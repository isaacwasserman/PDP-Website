{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js';\nimport Header from '../../components/Header.js';\nimport Footer from '../../components/Footer.js';\nimport Document from '../../components/Document.js';\n\nclass Event extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {}\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data.readableDate = new Date(data.date).toLocaleString([], {\n      year: 'numeric',\n      month: '2-digit',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    data.readablePrice = data.price == 0 ? '' : \"$\" + data.price;\n    data.actionElement = data.action && data.action.url && data.action.text ? __jsx(\"a\", {\n      href: data.action.url\n    }, data.action.text) : '';\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(\"title\", null, this.state.data.title), __jsx(Header, {\n      CurrentPage: \"Event\"\n    }), __jsx(Document, {\n      data: this.state.data,\n      image: \"image\",\n      headline: \"title\",\n      primaryDetail: \"readableDate\",\n      secondaryDetail: \"readablePrice\",\n      tertiaryDetail: \"actionElement\",\n      body: \"Description\"\n    }), __jsx(Footer, null));\n  }\n\n}\n\nEvent.getInitialProps = async function (context) {\n  // Get slug from URL\n  var slug = context.query.slug; // Get event data\n\n  const query = `*[_type == \"event\" && slug.current == \"${slug}\"]`;\n  var data = await Sanity.fetch(query, {});\n  data = data[0];\n  return {\n    data: data\n  };\n};\n\nexport default Event;","map":null,"metadata":{},"sourceType":"module"}