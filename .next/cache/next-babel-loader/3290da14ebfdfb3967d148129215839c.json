{"ast":null,"code":"var _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/pages/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport Sanity from '../sanity-client.js';\nimport Header from '../components/Header.js';\nimport Carousel from '../components/Carousel.js';\nimport DocumentList from '../components/DocumentList.js';\nimport Footer from '../components/Footer.js';\nimport { sortByTimeDelta } from '../helperFunctions.js';\nimport '../styles/index.sass';\n\nconst getData = async function () {\n  // Get announcements and events to display on page\n  var currentDate = new Date().toISOString();\n  const query = `*[(_type == \"event\" && date >= \"${currentDate}\") || _type == \"announcement\"]`;\n  var data = await Sanity.fetch(query, {}); // Sort data by timeDelta value in ascending order\n\n  var sortedData = sortByTimeDelta(data);\n  return {\n    data: sortedData\n  };\n};\n\nclass Index extends React.Component {\n  render() {\n    var Events = this.props.data.filter(obj => {\n      return obj._type === \"event\";\n    });\n\n    for (var event of Events) {\n      event.readableDate = new Date(event.date).toLocaleString([], {\n        year: 'numeric',\n        month: '2-digit',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n      event.readablePrice = event.price == 0 ? '' : \"$\" + event.price;\n    }\n\n    var Announcements = this.props.data.filter(obj => {\n      return obj._type === \"announcement\";\n    });\n\n    for (var announcement of Announcements) {\n      announcement.readableDate = new Date(announcement._createdAt).toLocaleString([], {\n        year: 'numeric',\n        month: '2-digit',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"PDP\"), __jsx(Header, {\n      CurrentPage: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), __jsx(Carousel, {\n      data: this.props.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      id: \"AboutContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"MissionStatement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Our Mission\"), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"The mission of Philadelphia Dance Projects is to support contemporary dance through Projects that encourage artists and audiences to more fully participate and engage in the experience and pursuit of dance as an evolving form.\"))), __jsx(\"div\", {\n      id: \"Lists\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"Upcoming\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      id: \"UpcomingHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Upcoming:\"), __jsx(DocumentList, {\n      data: Events,\n      headline: \"title\",\n      primaryDetail: \"readableDate\",\n      secondaryDetail: \"readablePrice\",\n      image: \"image\",\n      maxLength: 3,\n      body: \"Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      id: \"Announcements\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"h1\", {\n      id: \"AnnouncementsHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Announcements:\"), __jsx(DocumentList, {\n      data: Announcements,\n      headline: \"title\",\n      primaryDetail: \"readableDate\",\n      secondaryDetail: null,\n      image: \"heroImage\",\n      maxLength: 3,\n      body: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))), __jsx(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nIndex.getInitialProps = getData;\nexport default Index;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/pages/index.js"],"names":["React","Link","Sanity","Header","Carousel","DocumentList","Footer","sortByTimeDelta","getData","currentDate","Date","toISOString","query","data","fetch","sortedData","Index","Component","render","Events","props","filter","obj","_type","event","readableDate","date","toLocaleString","year","month","day","hour","minute","readablePrice","price","Announcements","announcement","_createdAt","getInitialProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Link from 'next/link'\nimport Sanity from '../sanity-client.js'\n\nimport Header from '../components/Header.js'\nimport Carousel from '../components/Carousel.js'\nimport DocumentList from '../components/DocumentList.js'\nimport Footer from '../components/Footer.js'\n\nimport { sortByTimeDelta } from '../helperFunctions.js'\n\nimport '../styles/index.sass'\n\nconst getData = async function(){\n  // Get announcements and events to display on page\n  var currentDate = (new Date()).toISOString()\n  const query = `*[(_type == \"event\" && date >= \"${currentDate}\") || _type == \"announcement\"]`\n  var data = await Sanity.fetch(query, {})\n  // Sort data by timeDelta value in ascending order\n  var sortedData = sortByTimeDelta(data)\n  return {data: sortedData}\n}\n\nclass Index extends React.Component {\n  render(){\n    var Events = this.props.data.filter(obj => {\n      return obj._type === \"event\"\n    })\n    for(var event of Events){\n      event.readableDate = (new Date(event.date)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n      event.readablePrice = (event.price == 0) ? '' : (\"$\" + event.price)\n    }\n    var Announcements = this.props.data.filter(obj => {\n      return obj._type === \"announcement\"\n    })\n    for(var announcement of Announcements){\n      announcement.readableDate = (new Date(announcement._createdAt)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n    }\n    return(\n      <div>\n        <title>PDP</title>\n        <Header CurrentPage=\"Home\"/>\n        <Carousel data={this.props.data}/>\n        <div id=\"AboutContainer\">\n          <div id=\"MissionStatement\">\n            <h3>Our Mission</h3>\n            <p>\n              The mission of Philadelphia Dance Projects is to support contemporary dance through Projects that encourage artists and audiences to more fully participate and engage in the experience and pursuit of dance as an evolving form.\n            </p>\n          </div>\n        </div>\n        <div id=\"Lists\">\n          <div id=\"Upcoming\">\n            <h1 id=\"UpcomingHeader\">Upcoming:</h1>\n            <DocumentList data={Events} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={\"readablePrice\"} image={\"image\"} maxLength={3} body=\"Description\"/>\n          </div>\n          <div id=\"Announcements\">\n            <h1 id=\"AnnouncementsHeader\">Announcements:</h1>\n            <DocumentList data={Announcements} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={null} image={\"heroImage\"} maxLength={3} body=\"body\"/>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nIndex.getInitialProps = getData\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}