{"ast":null,"code":"import _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/pages/index.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport Sanity from '../sanity-client.js';\nimport Header from '../components/Header.js';\nimport Carousel from '../components/Carousel.js';\nimport DocumentList from '../components/DocumentList.js';\nimport Footer from '../components/Footer.js';\nimport { sortByTimeDelta } from '../helperFunctions.js';\nimport '../styles/index.sass';\n\nvar getData = function getData() {\n  var currentDate, query, data, sortedData;\n  return _regeneratorRuntime.async(function getData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          // Get announcements and events to display on page\n          currentDate = new Date().toISOString();\n          query = \"*[(_type == \\\"event\\\" && date >= \\\"\".concat(currentDate, \"\\\") || _type == \\\"announcement\\\"]\");\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(Sanity.fetch(query, {}));\n\n        case 4:\n          data = _context.sent;\n          // Sort data by timeDelta value in ascending order\n          sortedData = sortByTimeDelta(data);\n          return _context.abrupt(\"return\", {\n            data: sortedData\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index() {\n    _classCallCheck(this, Index);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Index).apply(this, arguments));\n  }\n\n  _createClass(Index, [{\n    key: \"render\",\n    value: function render() {\n      var Events = this.props.data.filter(function (obj) {\n        return obj._type === \"event\";\n      });\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(Events), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var event = _step.value;\n          event.readableDate = new Date(event.date).toLocaleString([], {\n            year: 'numeric',\n            month: '2-digit',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          });\n          event.readablePrice = event.price == 0 ? '' : \"$\" + event.price;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var Announcements = this.props.data.filter(function (obj) {\n        return obj._type === \"announcement\";\n      });\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _getIterator(Announcements), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var announcement = _step2.value;\n          announcement.readableDate = new Date(announcement._createdAt).toLocaleString([], {\n            year: 'numeric',\n            month: '2-digit',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          });\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, __jsx(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"PDP\"), __jsx(Header, {\n        CurrentPage: \"Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), __jsx(Carousel, {\n        data: this.props.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        id: \"AboutContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"MissionStatement\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Our Mission\"), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"The mission of Philadelphia Dance Projects is to support contemporary dance through Projects that encourage artists and audiences to more fully participate and engage in the experience and pursuit of dance as an evolving form.\"))), __jsx(\"div\", {\n        id: \"Lists\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"Upcoming\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        id: \"UpcomingHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Upcoming:\"), __jsx(DocumentList, {\n        data: Events,\n        headline: \"title\",\n        primaryDetail: \"readableDate\",\n        secondaryDetail: \"readablePrice\",\n        image: \"image\",\n        maxLength: 3,\n        body: \"Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        id: \"Announcements\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        id: \"AnnouncementsHeader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Announcements:\"), __jsx(DocumentList, {\n        data: Announcements,\n        headline: \"title\",\n        primaryDetail: \"readableDate\",\n        secondaryDetail: null,\n        image: \"heroImage\",\n        maxLength: 3,\n        body: \"body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))), __jsx(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nIndex.getInitialProps = getData;\nexport default Index;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/pages/index.js"],"names":["React","Link","Sanity","Header","Carousel","DocumentList","Footer","sortByTimeDelta","getData","currentDate","Date","toISOString","query","fetch","data","sortedData","Index","Events","props","filter","obj","_type","event","readableDate","date","toLocaleString","year","month","day","hour","minute","readablePrice","price","Announcements","announcement","_createdAt","Component","getInitialProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Link from 'next/link'\nimport Sanity from '../sanity-client.js'\n\nimport Header from '../components/Header.js'\nimport Carousel from '../components/Carousel.js'\nimport DocumentList from '../components/DocumentList.js'\nimport Footer from '../components/Footer.js'\n\nimport { sortByTimeDelta } from '../helperFunctions.js'\n\nimport '../styles/index.sass'\n\nconst getData = async function(){\n  // Get announcements and events to display on page\n  var currentDate = (new Date()).toISOString()\n  const query = `*[(_type == \"event\" && date >= \"${currentDate}\") || _type == \"announcement\"]`\n  var data = await Sanity.fetch(query, {})\n  // Sort data by timeDelta value in ascending order\n  var sortedData = sortByTimeDelta(data)\n  return {data: sortedData}\n}\n\nclass Index extends React.Component {\n  render(){\n    var Events = this.props.data.filter(obj => {\n      return obj._type === \"event\"\n    })\n    for(var event of Events){\n      event.readableDate = (new Date(event.date)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n      event.readablePrice = (event.price == 0) ? '' : (\"$\" + event.price)\n    }\n    var Announcements = this.props.data.filter(obj => {\n      return obj._type === \"announcement\"\n    })\n    for(var announcement of Announcements){\n      announcement.readableDate = (new Date(announcement._createdAt)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n    }\n    return(\n      <div>\n        <title>PDP</title>\n        <Header CurrentPage=\"Home\"/>\n        <Carousel data={this.props.data}/>\n        <div id=\"AboutContainer\">\n          <div id=\"MissionStatement\">\n            <h3>Our Mission</h3>\n            <p>\n              The mission of Philadelphia Dance Projects is to support contemporary dance through Projects that encourage artists and audiences to more fully participate and engage in the experience and pursuit of dance as an evolving form.\n            </p>\n          </div>\n        </div>\n        <div id=\"Lists\">\n          <div id=\"Upcoming\">\n            <h1 id=\"UpcomingHeader\">Upcoming:</h1>\n            <DocumentList data={Events} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={\"readablePrice\"} image={\"image\"} maxLength={3} body=\"Description\"/>\n          </div>\n          <div id=\"Announcements\">\n            <h1 id=\"AnnouncementsHeader\">Announcements:</h1>\n            <DocumentList data={Announcements} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={null} image={\"heroImage\"} maxLength={3} body=\"body\"/>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nIndex.getInitialProps = getData\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}