{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/pages/announcement/[slug].js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js';\nimport Header from '../../components/Header.js';\nimport Footer from '../../components/Footer.js';\nimport Document from '../../components/Document.js';\n\nclass Announcement extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {}\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data.readableDate = new Date(data._createdAt).toLocaleString([], {\n      year: 'numeric',\n      month: '2-digit',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"PDP\"), __jsx(Header, {\n      CurrentPage: \"Announcement\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), __jsx(Document, {\n      data: this.props.data,\n      image: \"heroImage\",\n      headline: \"title\",\n      body: \"body\",\n      primaryDetail: \"readableDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), __jsx(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }));\n  }\n\n}\n\nAnnouncement.getInitialProps = async function (context) {\n  // Get slug from URL\n  var slug = context.query.slug; // Get event data\n\n  const query = `*[_type == \"announcement\" && slug.current == \"${slug}\"]`;\n  var data = await Sanity.fetch(query, {});\n  data = data[0];\n  return {\n    data: data\n  };\n};\n\nexport default Announcement;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/pages/announcement/[slug].js"],"names":["React","Link","useRouter","Sanity","Header","Footer","Document","Announcement","Component","data","componentDidMount","props","readableDate","Date","_createdAt","toLocaleString","year","month","day","hour","minute","setState","render","getInitialProps","context","slug","query","fetch"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;;AAEA,MAAMC,YAAN,SAA2BP,KAAK,CAACQ,SAAjC,CAA2C;AAAA;AAAA;;AAAA,mCACjC;AACNC,MAAAA,IAAI,EAAE;AADA,KADiC;AAAA;;AAIzCC,EAAAA,iBAAiB,GAAE;AACjB,QAAID,IAAI,GAAG,KAAKE,KAAL,CAAWF,IAAtB;AACAA,IAAAA,IAAI,CAACG,YAAL,GAAqB,IAAIC,IAAJ,CAASJ,IAAI,CAACK,UAAd,CAAD,CAA4BC,cAA5B,CAA2C,EAA3C,EAA+C;AAACC,MAAAA,IAAI,EAAC,SAAN;AAAiBC,MAAAA,KAAK,EAAE,SAAxB;AAAmCC,MAAAA,GAAG,EAAC,SAAvC;AAAkDC,MAAAA,IAAI,EAAE,SAAxD;AAAmEC,MAAAA,MAAM,EAAC;AAA1E,KAA/C,CAApB;AACA,SAAKC,QAAL,CAAc;AAACZ,MAAAA,IAAI,EAAEA;AAAP,KAAd;AACD;;AACDa,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,MAAC,MAAD;AAAQ,MAAA,WAAW,EAAC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,MAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKX,KAAL,CAAWF,IAA3B;AAAiC,MAAA,KAAK,EAAE,WAAxC;AAAqD,MAAA,QAAQ,EAAE,OAA/D;AAAwE,MAAA,IAAI,EAAE,MAA9E;AAAsF,MAAA,aAAa,EAAE,cAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF;AAQD;;AAlBwC;;AAqB3CF,YAAY,CAACgB,eAAb,GAA+B,gBAAeC,OAAf,EAAuB;AACpD;AACA,MAAIC,IAAI,GAAGD,OAAO,CAACE,KAAR,CAAcD,IAAzB,CAFoD,CAGpD;;AACA,QAAMC,KAAK,GAAI,iDAAgDD,IAAK,IAApE;AACA,MAAIhB,IAAI,GAAG,MAAMN,MAAM,CAACwB,KAAP,CAAaD,KAAb,EAAoB,EAApB,CAAjB;AACAjB,EAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACA,SAAO;AAACA,IAAAA,IAAI,EAAEA;AAAP,GAAP;AACD,CARD;;AAUA,eAAeF,YAAf","sourcesContent":["import React from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js'\nimport Header from '../../components/Header.js'\nimport Footer from '../../components/Footer.js'\nimport Document from '../../components/Document.js'\n\nclass Announcement extends React.Component {\n  state = {\n    data: {}\n  }\n  componentDidMount(){\n    var data = this.props.data\n    data.readableDate = (new Date(data._createdAt)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n    this.setState({data: data})\n  }\n  render(){\n    return(\n      <div>\n        <title>PDP</title>\n        <Header CurrentPage=\"Announcement\"/>\n        <Document data={this.props.data} image={\"heroImage\"} headline={\"title\"} body={\"body\"} primaryDetail={\"readableDate\"}/>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nAnnouncement.getInitialProps = async function(context){\n  // Get slug from URL\n  var slug = context.query.slug\n  // Get event data\n  const query = `*[_type == \"announcement\" && slug.current == \"${slug}\"]`\n  var data = await Sanity.fetch(query, {})\n  data = data[0]\n  return {data: data}\n}\n\nexport default Announcement;\n"]},"metadata":{},"sourceType":"module"}