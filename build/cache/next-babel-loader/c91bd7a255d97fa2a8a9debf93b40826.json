{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js';\nimport Header from '../../components/Header.js';\nimport Footer from '../../components/Footer.js';\nimport Document from '../../components/Document.js';\n\nclass PressClip extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {}\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data.readableDate = new Date(data.date).toLocaleString([], {\n      year: 'numeric',\n      month: '2-digit',\n      day: 'numeric'\n    });\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(\"title\", null, \"PDP\"), __jsx(Header, {\n      CurrentPage: \"Press Clip\"\n    }), __jsx(Document, {\n      data: this.props.data,\n      image: \"heroImage\",\n      headline: \"title\",\n      body: \"body\",\n      primaryDetail: \"primaryDetail\",\n      secondaryDetail: \"secondaryDetail\"\n    }), __jsx(Footer, null));\n  }\n\n}\n\nPressClip.getInitialProps = async function (context) {\n  // Get slug from URL\n  var slug = context.query.slug; // Get event data\n\n  const query = `*[_type == \"pressclip\" && slug.current == \"${slug}\"]{ \"primaryDetail\": author + \" for \" + organization + \" - \" + date, ... }`;\n  var data = await Sanity.fetch(query, {});\n  data = data[0]; // Construct secondaryDetail\n\n  if (typeof data.articleURL !== \"undefined\") {\n    data.secondaryDetail = __jsx(\"a\", {\n      href: data.articleURL\n    }, \"Read it on \" + data.organization + \" here\");\n  } else {\n    data.secondaryDetail = '';\n  }\n\n  return {\n    data: data\n  };\n};\n\nexport default PressClip;","map":null,"metadata":{},"sourceType":"module"}