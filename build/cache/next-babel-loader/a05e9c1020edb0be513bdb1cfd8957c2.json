{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/pages/event/[slug].js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js';\nimport Header from '../../components/Header.js';\nimport Footer from '../../components/Footer.js';\nimport Document from '../../components/Document.js';\n\nclass Event extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {}\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data.readableDate = new Date(data.date).toLocaleString([], {\n      year: 'numeric',\n      month: '2-digit',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    data.readablePrice = data.price == 0 ? '' : \"$\" + data.price;\n    data.actionElement = __jsx(\"a\", {\n      href: data.action.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, data.action.text);\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"PDP\"), __jsx(Header, {\n      CurrentPage: \"Event\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), __jsx(Document, {\n      data: this.state.data,\n      image: \"image\",\n      headline: \"title\",\n      primaryDetail: \"readableDate\",\n      secondaryDetail: \"readablePrice\",\n      tertiaryDetail: \"actionElement\",\n      body: \"Description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), __jsx(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }));\n  }\n\n}\n\nEvent.getInitialProps = async function (context) {\n  // Get slug from URL\n  var slug = context.query.slug; // Get event data\n\n  const query = `*[_type == \"event\" && slug.current == \"${slug}\"]`;\n  var data = await Sanity.fetch(query, {});\n  data = data[0];\n  return {\n    data: data\n  };\n};\n\nexport default Event;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/pages/event/[slug].js"],"names":["React","Link","useRouter","Sanity","Header","Footer","Document","Event","Component","data","componentDidMount","props","readableDate","Date","date","toLocaleString","year","month","day","hour","minute","readablePrice","price","actionElement","action","url","text","setState","render","state","getInitialProps","context","slug","query","fetch"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,8BAArB;;AAEA,MAAMC,KAAN,SAAoBP,KAAK,CAACQ,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCAC1B;AACNC,MAAAA,IAAI,EAAE;AADA,KAD0B;AAAA;;AAIlCC,EAAAA,iBAAiB,GAAE;AACjB,QAAID,IAAI,GAAG,KAAKE,KAAL,CAAWF,IAAtB;AACAA,IAAAA,IAAI,CAACG,YAAL,GAAqB,IAAIC,IAAJ,CAASJ,IAAI,CAACK,IAAd,CAAD,CAAsBC,cAAtB,CAAqC,EAArC,EAAyC;AAACC,MAAAA,IAAI,EAAC,SAAN;AAAiBC,MAAAA,KAAK,EAAE,SAAxB;AAAmCC,MAAAA,GAAG,EAAC,SAAvC;AAAkDC,MAAAA,IAAI,EAAE,SAAxD;AAAmEC,MAAAA,MAAM,EAAC;AAA1E,KAAzC,CAApB;AACAX,IAAAA,IAAI,CAACY,aAAL,GAAsBZ,IAAI,CAACa,KAAL,IAAc,CAAf,GAAoB,EAApB,GAA0B,MAAMb,IAAI,CAACa,KAA1D;AACAb,IAAAA,IAAI,CAACc,aAAL,GAAqB;AAAG,MAAA,IAAI,EAAEd,IAAI,CAACe,MAAL,CAAYC,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BhB,IAAI,CAACe,MAAL,CAAYE,IAAvC,CAArB;AACA,SAAKC,QAAL,CAAc;AAAClB,MAAAA,IAAI,EAAEA;AAAP,KAAd;AACD;;AACDmB,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,MAAC,MAAD;AAAQ,MAAA,WAAW,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,MAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKC,KAAL,CAAWpB,IAA3B;AAAiC,MAAA,KAAK,EAAE,OAAxC;AAAiD,MAAA,QAAQ,EAAE,OAA3D;AAAoE,MAAA,aAAa,EAAE,cAAnF;AAAmG,MAAA,eAAe,EAAE,eAApH;AAAqI,MAAA,cAAc,EAAE,eAArJ;AAAsK,MAAA,IAAI,EAAE,aAA5K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF;AAQD;;AApBiC;;AAuBpCF,KAAK,CAACuB,eAAN,GAAwB,gBAAeC,OAAf,EAAuB;AAC7C;AACA,MAAIC,IAAI,GAAGD,OAAO,CAACE,KAAR,CAAcD,IAAzB,CAF6C,CAG7C;;AACA,QAAMC,KAAK,GAAI,0CAAyCD,IAAK,IAA7D;AACA,MAAIvB,IAAI,GAAG,MAAMN,MAAM,CAAC+B,KAAP,CAAaD,KAAb,EAAoB,EAApB,CAAjB;AACAxB,EAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACA,SAAO;AAACA,IAAAA,IAAI,EAAEA;AAAP,GAAP;AACD,CARD;;AAUA,eAAeF,KAAf","sourcesContent":["import React from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js'\nimport Header from '../../components/Header.js'\nimport Footer from '../../components/Footer.js'\nimport Document from '../../components/Document.js'\n\nclass Event extends React.Component {\n  state = {\n    data: {}\n  }\n  componentDidMount(){\n    var data = this.props.data\n    data.readableDate = (new Date(data.date)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n    data.readablePrice = (data.price == 0) ? '' : (\"$\" + data.price)\n    data.actionElement = <a href={data.action.url}>{data.action.text}</a>\n    this.setState({data: data})\n  }\n  render(){\n    return(\n      <div>\n        <title>PDP</title>\n        <Header CurrentPage=\"Event\"/>\n        <Document data={this.state.data} image={\"image\"} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={\"readablePrice\"} tertiaryDetail={\"actionElement\"} body={\"Description\"}/>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nEvent.getInitialProps = async function(context){\n  // Get slug from URL\n  var slug = context.query.slug\n  // Get event data\n  const query = `*[_type == \"event\" && slug.current == \"${slug}\"]`\n  var data = await Sanity.fetch(query, {})\n  data = data[0]\n  return {data: data}\n}\n\nexport default Event;\n"]},"metadata":{},"sourceType":"module"}