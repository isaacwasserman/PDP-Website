{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js';\nimport Header from '../../components/Header.js';\nimport Footer from '../../components/Footer.js';\nimport Document from '../../components/Document.js';\n\nclass Announcement extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {}\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data.readableDate = new Date(data._createdAt).toLocaleString([], {\n      year: 'numeric',\n      month: '2-digit',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    this.setState({\n      data: data\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(\"title\", null, \"PDP\"), __jsx(Header, {\n      CurrentPage: \"Announcement\"\n    }), __jsx(Document, {\n      data: this.props.data,\n      image: \"heroImage\",\n      headline: \"title\",\n      body: \"body\",\n      primaryDetail: \"readableDate\"\n    }), __jsx(Footer, null));\n  }\n\n}\n\nAnnouncement.getInitialProps = async function (context) {\n  // Get slug from URL\n  var slug = context.query.slug; // Get event data\n\n  const query = `*[_type == \"announcement\" && slug.current == \"${slug}\"]`;\n  var data = await Sanity.fetch(query, {});\n  data = data[0];\n  return {\n    data: data\n  };\n};\n\nexport default Announcement;","map":null,"metadata":{},"sourceType":"module"}