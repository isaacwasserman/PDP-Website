{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/components/Document.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport autoBind from 'react-autobind';\nimport Head from 'next/head';\nimport \"../styles/document.sass\";\nimport Sanity from '../sanity-client.js';\nimport { SanityImageUrl } from '../helperFunctions.js';\nimport File from \"./File.js\";\n\nvar BlockContent = require('@sanity/block-content-to-react');\n\nvar Document =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Document, _React$Component);\n\n  function Document() {\n    var _this;\n\n    _classCallCheck(this, Document);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Document).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      data: []\n    });\n\n    return _this;\n  }\n\n  _createClass(Document, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data = this.props.data;\n      data[null] = '';\n      this.setState({\n        data: this.props.data\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var imageKey = this.props.image;\n      var headlineKey = this.props.headline;\n      var primaryDetailKey = this.props.primaryDetail;\n      var secondaryDetailKey = this.props.secondaryDetail;\n      var bodyKey = this.props.body;\n      var serializers = {\n        types: {\n          code: function code(props) {\n            return __jsx(\"pre\", {\n              \"data-language\": props.node.language,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 34\n              },\n              __self: this\n            }, __jsx(\"code\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, props.node.code));\n          },\n          file: function file(props) {\n            var _ref = props.node.asset._ref;\n\n            var splitRef = _ref.split('-');\n\n            var reassembledFilename = splitRef[1] + '.' + splitRef[2];\n            var url = 'https://cdn.sanity.io/files/ocpl5ulk/pdp-data/' + reassembledFilename;\n\n            var Element = __jsx(File, {\n              src: url,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 43\n              },\n              __self: this\n            });\n\n            return Element;\n          },\n          embed: function embed(props) {\n            return __jsx(\"div\", {\n              className: \"embed\",\n              dangerouslySetInnerHTML: {\n                __html: props.node.code\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 47\n              },\n              __self: this\n            });\n          }\n        }\n      };\n\n      function findFocalPoint(image) {\n        if (\"hotspot\" in image) {\n          var x = image.hotspot.x;\n          var y = image.hotspot.y;\n          return {\n            x: x,\n            y: y\n          };\n        } else {\n          return {\n            x: 0.5,\n            y: 0.5\n          };\n        }\n      }\n\n      var returnImg = function returnImg(item) {\n        if (imageKey == null) {\n          return '';\n        } else if (!(imageKey in item)) {\n          return '';\n        } else if (!(\"asset\" in item[imageKey])) {\n          return '';\n        } else {\n          return __jsx(\"img\", {\n            id: \"DocumentImage\",\n            src: SanityImageUrl(item[imageKey], {\n              w: 800,\n              h: 400,\n              fp: findFocalPoint(item[imageKey])\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          });\n        }\n      };\n\n      return __jsx(\"div\", {\n        id: \"DocumentContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, returnImg(this.props.data) != '' ? __jsx(\"div\", {\n        id: \"ImageContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" \", returnImg(this.props.data), \" \") : null, __jsx(\"div\", {\n        id: \"DocumentText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.props.data[headlineKey]), __jsx(\"h6\", {\n        style: {\n          display: primaryDetailKey != null || typeof primaryDetailKey !== 'undefined' ? 'inline' : 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        id: \"PrimaryDetail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.props.data[primaryDetailKey]), __jsx(\"span\", {\n        id: \"DetailDivider\",\n        style: {\n          display: (secondaryDetailKey != null || typeof secondaryDetailKey !== 'undefined') && this.props.data[secondaryDetailKey] != '' ? 'inline' : 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"|\"), __jsx(\"span\", {\n        id: \"SecondaryDetail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.props.data[secondaryDetailKey])), __jsx(BlockContent, {\n        id: \"DocumentDescription\",\n        blocks: this.props.data[bodyKey],\n        serializers: serializers,\n        projectId: \"ocpl5ulk\",\n        dataset: \"pdp-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Document;\n}(React.Component);\n\nexport default Document;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/components/Document.js"],"names":["React","Link","autoBind","Head","Sanity","SanityImageUrl","File","BlockContent","require","Document","data","props","setState","imageKey","image","headlineKey","headline","primaryDetailKey","primaryDetail","secondaryDetailKey","secondaryDetail","bodyKey","body","serializers","types","code","node","language","file","_ref","asset","splitRef","split","reassembledFilename","url","Element","embed","__html","findFocalPoint","x","hotspot","y","returnImg","item","w","h","fp","display","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Link from \"next/link\"\nimport autoBind from 'react-autobind'\nimport Head from 'next/head'\nimport \"../styles/document.sass\"\nimport Sanity from '../sanity-client.js'\nimport { SanityImageUrl } from '../helperFunctions.js'\nimport File from \"./File.js\"\nconst BlockContent = require('@sanity/block-content-to-react')\n\nclass Document extends React.Component {\n  constructor(){\n    super()\n  }\n\n  state = {\n    data: []\n  }\n\n  componentDidMount(){\n    var data = this.props.data\n    data[null] = ''\n    this.setState({data: this.props.data})\n  }\n  render() {\n    var imageKey = this.props.image\n    var headlineKey = this.props.headline\n    var primaryDetailKey = this.props.primaryDetail\n    var secondaryDetailKey = this.props.secondaryDetail\n    var bodyKey = this.props.body\n    const serializers = {\n      types: {\n        code: props => (\n          <pre data-language={props.node.language}>\n            <code>{props.node.code}</code>\n          </pre>\n        ),\n        file: props => {\n          var _ref = props.node.asset._ref\n          var splitRef = _ref.split('-')\n          var reassembledFilename = splitRef[1] + '.' + splitRef[2]\n          var url = 'https://cdn.sanity.io/files/ocpl5ulk/pdp-data/' + reassembledFilename\n          var Element = <File src={url}/>\n          return Element\n        },\n        embed: props => (\n          <div className=\"embed\" dangerouslySetInnerHTML={{__html:\n        props.node.code}}></div>\n        )\n      }\n    }\n    function findFocalPoint(image){\n      if(\"hotspot\" in image){\n        var x = image.hotspot.x\n        var y = image.hotspot.y\n        return {x: x, y: y}\n      }\n      else {\n        return {x: 0.5, y: 0.5}\n      }\n    }\n    var returnImg = function(item){\n      if(imageKey == null){\n        return ''\n      }\n      else if(!(imageKey in item)){\n        return ''\n      }\n      else if(!(\"asset\" in item[imageKey])){\n        return ''\n      }\n      else {\n        return <img id=\"DocumentImage\" src={SanityImageUrl(item[imageKey], {w:800,h:400,fp:findFocalPoint(item[imageKey])})}/>\n      }\n    }\n    return (\n      <div id=\"DocumentContainer\">\n        { (returnImg(this.props.data) != '') ? <div id=\"ImageContainer\"> {returnImg(this.props.data)} </div> : null }\n        <div id=\"DocumentText\">\n          <h3>{this.props.data[headlineKey]}</h3>\n          <h6 style={{display: (primaryDetailKey != null || typeof primaryDetailKey !== 'undefined' ? 'inline' : 'none')}}>\n            <span id=\"PrimaryDetail\">{this.props.data[primaryDetailKey]}</span>\n            <span id=\"DetailDivider\" style={{display: ((secondaryDetailKey != null || typeof secondaryDetailKey !== 'undefined') && this.props.data[secondaryDetailKey] != '' ? 'inline' : 'none')}}>|</span>\n            <span id=\"SecondaryDetail\">{this.props.data[secondaryDetailKey]}</span>\n          </h6>\n          <BlockContent id=\"DocumentDescription\" blocks={this.props.data[bodyKey]} serializers={serializers} projectId=\"ocpl5ulk\" dataset=\"pdp-data\" />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Document\n"]},"metadata":{},"sourceType":"module"}