{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/isaac/Desktop/PDP-Website/components/Document.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport autoBind from 'react-autobind';\nimport Head from 'next/head';\nimport \"../styles/document.sass\";\nimport Sanity from '../sanity-client.js';\nimport { SanityImageUrl } from '../helperFunctions.js';\nimport File from \"./File.js\";\n\nconst BlockContent = require('@sanity/block-content-to-react');\n\nclass Document extends React.Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"state\", {\n      data: []\n    });\n  }\n\n  componentDidMount() {\n    var data = this.props.data;\n    data[null] = '';\n    this.setState({\n      data: this.props.data\n    });\n  }\n\n  render() {\n    var imageKey = this.props.image;\n    var headlineKey = this.props.headline;\n    var primaryDetailKey = this.props.primaryDetail;\n    var secondaryDetailKey = this.props.secondaryDetail;\n    var tertiaryDetailKey = this.props.tertiaryDetail;\n    var bodyKey = this.props.body;\n    const serializers = {\n      types: {\n        code: props => __jsx(\"pre\", {\n          \"data-language\": props.node.language,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, __jsx(\"code\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, props.node.code)),\n        file: props => {\n          var _ref = props.node.asset._ref;\n\n          var splitRef = _ref.split('-');\n\n          var reassembledFilename = splitRef[1] + '.' + splitRef[2];\n          var url = 'https://cdn.sanity.io/files/ocpl5ulk/pdp-data/' + reassembledFilename;\n\n          var Element = __jsx(File, {\n            src: url,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          });\n\n          return Element;\n        },\n        embed: props => __jsx(\"div\", {\n          className: \"embed\",\n          dangerouslySetInnerHTML: {\n            __html: props.node.code\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        })\n      }\n    };\n\n    function findFocalPoint(image) {\n      if (\"hotspot\" in image) {\n        var x = image.hotspot.x;\n        var y = image.hotspot.y;\n        return {\n          x: x,\n          y: y\n        };\n      } else {\n        return {\n          x: 0.5,\n          y: 0.5\n        };\n      }\n    }\n\n    var returnImg = function (item) {\n      if (imageKey == null) {\n        return '';\n      } else if (!(imageKey in item)) {\n        return '';\n      } else if (!(\"asset\" in item[imageKey])) {\n        return '';\n      } else {\n        return __jsx(\"img\", {\n          id: \"DocumentImage\",\n          src: SanityImageUrl(item[imageKey], {\n            w: 800,\n            h: 400,\n            fp: findFocalPoint(item[imageKey])\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        });\n      }\n    };\n\n    return __jsx(\"div\", {\n      id: \"DocumentContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, returnImg(this.props.data) != '' ? __jsx(\"div\", {\n      id: \"ImageContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \" \", returnImg(this.props.data), \" \") : null, __jsx(\"div\", {\n      id: \"DocumentText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.props.data[headlineKey]), __jsx(\"h6\", {\n      style: {\n        display: primaryDetailKey != null || typeof primaryDetailKey !== 'undefined' ? 'inline' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      id: \"PrimaryDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.props.data[primaryDetailKey]), __jsx(\"span\", {\n      id: \"DetailDivider\",\n      style: {\n        display: (secondaryDetailKey != null || typeof secondaryDetailKey !== 'undefined') && this.props.data[secondaryDetailKey] != '' ? 'inline' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"|\"), __jsx(\"span\", {\n      id: \"SecondaryDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.props.data[secondaryDetailKey]), __jsx(\"span\", {\n      id: \"DetailDivider\",\n      style: {\n        display: (tertiaryDetailKey != null || typeof tertiaryDetailKey !== 'undefined') && this.props.data[tertiaryDetailKey] != '' ? 'inline' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"|\"), __jsx(\"span\", {\n      id: \"SecondaryDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.props.data[tertiaryDetailKey])), __jsx(BlockContent, {\n      id: \"DocumentDescription\",\n      blocks: this.props.data[bodyKey],\n      serializers: serializers,\n      projectId: \"ocpl5ulk\",\n      dataset: \"pdp-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Document;","map":{"version":3,"sources":["/Users/isaac/Desktop/PDP-Website/components/Document.js"],"names":["React","Link","autoBind","Head","Sanity","SanityImageUrl","File","BlockContent","require","Document","Component","constructor","data","componentDidMount","props","setState","render","imageKey","image","headlineKey","headline","primaryDetailKey","primaryDetail","secondaryDetailKey","secondaryDetail","tertiaryDetailKey","tertiaryDetail","bodyKey","body","serializers","types","code","node","language","file","_ref","asset","splitRef","split","reassembledFilename","url","Element","embed","__html","findFocalPoint","x","hotspot","y","returnImg","item","w","h","fp","display"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Link from \"next/link\"\nimport autoBind from 'react-autobind'\nimport Head from 'next/head'\nimport \"../styles/document.sass\"\nimport Sanity from '../sanity-client.js'\nimport { SanityImageUrl } from '../helperFunctions.js'\nimport File from \"./File.js\"\nconst BlockContent = require('@sanity/block-content-to-react')\n\nclass Document extends React.Component {\n  constructor(){\n    super()\n  }\n\n  state = {\n    data: []\n  }\n\n  componentDidMount(){\n    var data = this.props.data\n    data[null] = ''\n    this.setState({data: this.props.data})\n  }\n  render() {\n    var imageKey = this.props.image\n    var headlineKey = this.props.headline\n    var primaryDetailKey = this.props.primaryDetail\n    var secondaryDetailKey = this.props.secondaryDetail\n    var tertiaryDetailKey = this.props.tertiaryDetail\n    var bodyKey = this.props.body\n    const serializers = {\n      types: {\n        code: props => (\n          <pre data-language={props.node.language}>\n            <code>{props.node.code}</code>\n          </pre>\n        ),\n        file: props => {\n          var _ref = props.node.asset._ref\n          var splitRef = _ref.split('-')\n          var reassembledFilename = splitRef[1] + '.' + splitRef[2]\n          var url = 'https://cdn.sanity.io/files/ocpl5ulk/pdp-data/' + reassembledFilename\n          var Element = <File src={url}/>\n          return Element\n        },\n        embed: props => (\n          <div className=\"embed\" dangerouslySetInnerHTML={{__html:\n        props.node.code}}></div>\n        )\n      }\n    }\n    function findFocalPoint(image){\n      if(\"hotspot\" in image){\n        var x = image.hotspot.x\n        var y = image.hotspot.y\n        return {x: x, y: y}\n      }\n      else {\n        return {x: 0.5, y: 0.5}\n      }\n    }\n    var returnImg = function(item){\n      if(imageKey == null){\n        return ''\n      }\n      else if(!(imageKey in item)){\n        return ''\n      }\n      else if(!(\"asset\" in item[imageKey])){\n        return ''\n      }\n      else {\n        return <img id=\"DocumentImage\" src={SanityImageUrl(item[imageKey], {w:800,h:400,fp:findFocalPoint(item[imageKey])})}/>\n      }\n    }\n    return (\n      <div id=\"DocumentContainer\">\n        { (returnImg(this.props.data) != '') ? <div id=\"ImageContainer\"> {returnImg(this.props.data)} </div> : null }\n        <div id=\"DocumentText\">\n          <h3>{this.props.data[headlineKey]}</h3>\n          <h6 style={{display: (primaryDetailKey != null || typeof primaryDetailKey !== 'undefined' ? 'inline' : 'none')}}>\n            <span id=\"PrimaryDetail\">{this.props.data[primaryDetailKey]}</span>\n            <span id=\"DetailDivider\" style={{display: ((secondaryDetailKey != null || typeof secondaryDetailKey !== 'undefined') && this.props.data[secondaryDetailKey] != '' ? 'inline' : 'none')}}>|</span>\n            <span id=\"SecondaryDetail\">{this.props.data[secondaryDetailKey]}</span>\n            <span id=\"DetailDivider\" style={{display: ((tertiaryDetailKey != null || typeof tertiaryDetailKey !== 'undefined') && this.props.data[tertiaryDetailKey] != '' ? 'inline' : 'none')}}>|</span>\n            <span id=\"SecondaryDetail\">{this.props.data[tertiaryDetailKey]}</span>\n          </h6>\n          <BlockContent id=\"DocumentDescription\" blocks={this.props.data[bodyKey]} serializers={serializers} projectId=\"ocpl5ulk\" dataset=\"pdp-data\" />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Document\n"]},"metadata":{},"sourceType":"module"}