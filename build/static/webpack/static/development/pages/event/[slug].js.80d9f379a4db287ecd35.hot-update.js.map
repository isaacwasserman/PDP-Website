{"version":3,"file":"static/webpack/static/development/pages/event/[slug].js.80d9f379a4db287ecd35.hot-update.js","sources":["webpack:///./pages/event/[slug].js"],"sourcesContent":["import React from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/router';\nimport Sanity from '../../sanity-client.js'\nimport Header from '../../components/Header.js'\nimport Footer from '../../components/Footer.js'\nimport Document from '../../components/Document.js'\n\nclass Event extends React.Component {\n  state = {\n    data: {}\n  }\n  componentDidMount(){\n    var data = this.props.data\n    data.readableDate = (new Date(data.date)).toLocaleString([], {year:'numeric', month: '2-digit', day:'numeric', hour: '2-digit', minute:'2-digit'})\n    data.readablePrice = (data.price == 0) ? '' : (\"$\" + data.price)\n    data.actionElement = data.action.url ? <a href={data.action.url}>{data.action.text}</a> : null\n    this.setState({data: data})\n  }\n  render(){\n    return(\n      <div>\n        <title>PDP</title>\n        <Header CurrentPage=\"Event\"/>\n        <Document data={this.state.data} image={\"image\"} headline={\"title\"} primaryDetail={\"readableDate\"} secondaryDetail={\"readablePrice\"} tertiaryDetail={\"actionElement\"} body={\"Description\"}/>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nEvent.getInitialProps = async function(context){\n  // Get slug from URL\n  var slug = context.query.slug\n  // Get event data\n  const query = `*[_type == \"event\" && slug.current == \"${slug}\"]`\n  var data = await Sanity.fetch(query, {})\n  data = data[0]\n  return {data: data}\n}\n\nexport default Event;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AApBA;AACA;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAOA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AASA;;;;A","sourceRoot":""}