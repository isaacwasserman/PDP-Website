(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{151:function(e,t,a){"use strict";a.r(t),a.d(t,"query",function(){return S});a(78);var n=a(34),r=a.n(n),o=a(7),l=a.n(o),i=a(0),c=a.n(i),s=a(171),d=a(184),u=a.n(d),m=a(193),p=a.n(m),g=(a(314),a(152),a(177)),h=a(176),E=a(194),f=a.n(E),v=a(197),b=a(195)({projectId:"ocpl5ulk",dataset:"pdp-data",token:"skDiISoqRo6tRQPqMeE5gn4yxoUSxJQxYCLBFSTioIY3j1h1IMUDIKE3OafKaeh4PxQtZQZRcnFPTIGAqwIvPPfaN5SNQSUKMvxPjo5g0EJyP4n2Xjv2eyvNHTkZYTEDBaKE5WJJYISweGBElGjmYwZdoaz8XzxLQud6r7abnRxnrg9qB8Ek",useCdn:!1}),y=(f()(b),function(e){function t(t){var a;return(a=e.call(this,t)||this).state={numFetched:5,posts:[],pauseScrollTracking:!1,sidebarOpen:!1,sidebarClasses:"hidden",modalShadeClasses:"hidden nodisplay"},a.trackScrolling=function(){var e=document.getElementById("body");a.isBottom(e)&&0==a.state.pauseScrollTracking&&(a.setState({pauseScrollTracking:!0}),a.getNext())},a.getNext=a.getNext.bind(r()(a)),a.onSetSidebarOpen=a.onSetSidebarOpen.bind(r()(a)),a}l()(t,e);var a=t.prototype;return a.componentDidMount=function(){for(var e=this.props.data.allSanityBlogpost.edges,t=[],a=0;a<e.length;a++)t.push(e[a].node);this.setState({posts:t}),console.log("Fetched First:"),console.log(t),document.addEventListener("scroll",this.trackScrolling)},a.componentWillUnmount=function(){document.removeEventListener("scroll",this.trackScrolling)},a.onSetSidebarOpen=function(e){e?this.setState({modalShadeClasses:"",sidebarClasses:""}):(this.setState({modalShadeClasses:"hidden",sidebarClasses:"hidden"}),setTimeout(function(){this.setState({modalShadeClasses:"hidden nodisplay"})}.bind(this),400))},a.isBottom=function(e){return e.getBoundingClientRect().bottom<=window.innerHeight},a.getNext=function(){var e=this,t={nextIndex:this.state.numFetched,nextPlusFive:this.state.numFetched+5};b.fetch('*[_type == "blogpost"] | { _createdAt, title, author, _rawBody, heroImage, _id } | order(_createdAt desc) | [$nextIndex...$nextPlusFive]',t).then(function(t){console.log("Fetched Later:"),console.log(t),e.setState({numFetched:e.state.numFetched+5,posts:e.state.posts.concat(t),pauseScrollTracking:!1})})},a.ImageRefToUrl=function(e,t,a){if(void 0!==e){var n=e.split("-"),r="https://cdn.sanity.io/images/ocpl5ulk/pdp-data/"+(n[1]+"-"+n[2]+"."+n[3])+"?w="+t[0]+"&h="+t[1]+"&fit=crop&crop=focalpoint&quality=70"+(null!=a?"&fp-x="+a.x+"&fp-y="+a.y:"");return console.log(r),r}return""},a.FormatPrice=function(e){var t=e;return t=0==e?"FREE":"$"+t},a.ImageSource=function(e){return null==e?null:void 0===e.asset._id?this.ImageRefToUrl(e.asset._ref,[800,400],e.hotspot):this.ImageRefToUrl(e.asset._id,[800,400],e.hotspot)},a.render=function(){var e=this;console.log(this.state.posts);var t={types:{code:function(e){return c.a.createElement("pre",{"data-language":e.node.language},c.a.createElement("code",null,e.node.code))}}},a=this.state.posts.map(function(a){return c.a.createElement("div",{className:"PostContainer",key:a._id},c.a.createElement(p.a,null,c.a.createElement(u.a,{className:"PostImage",src:e.ImageSource(a.heroImage)})),c.a.createElement("div",{className:"PostText"},c.a.createElement("h3",null,a.title),c.a.createElement("h5",null,a.author),c.a.createElement("h6",null,new Date(a._createdAt).toLocaleString([],{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})),c.a.createElement(v,{className:"PostBody",blocks:a._rawBody,serializers:t,projectId:"ocpl5ulk",dataset:"pdp-data"})))}),n=this.props.data.archive.edges.map(function(e){return c.a.createElement("li",{className:"ArchiveItem",key:e.node._id},c.a.createElement(s.a,{to:"/blogpost?"+e.node.slug.current},e.node.title))});return c.a.createElement("div",{id:"body"},c.a.createElement("title",null,"PDP - Blog"),c.a.createElement(g.a,{CurrentPage:"Blog"}),c.a.createElement("div",{id:"Feed"},a),c.a.createElement("div",{id:"ModalShade",className:this.state.modalShadeClasses,onClick:function(){return e.onSetSidebarOpen(!1)}}),c.a.createElement("div",{id:"Sidebar",className:this.state.sidebarClasses,open:this.state.sidebarOpen},c.a.createElement("ul",{id:"ArchiveList"},c.a.createElement("h1",null,"Archive"),c.a.createElement("h2",{onClick:function(){return e.onSetSidebarOpen(!1)}},"x"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),n)),c.a.createElement("button",{id:"SidebarOpener",onClick:function(){return e.onSetSidebarOpen(!0)}},"Archive"),c.a.createElement(h.a,null))},t}(c.a.Component)),S="2958599940";t.default=y},171:function(e,t,a){"use strict";a.d(t,"b",function(){return d});var n=a(0),r=a.n(n),o=a(4),l=a.n(o),i=a(33),c=a.n(i);a.d(t,"a",function(){return c.a}),a.d(t,"c",function(){return i.navigate});a(172);var s=r.a.createContext({}),d=function(e){return r.a.createElement(s.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};d.propTypes={data:l.a.object,query:l.a.string.isRequired,render:l.a.func,children:l.a.func}},172:function(e,t,a){var n;e.exports=(n=a(173))&&n.default||n},173:function(e,t,a){"use strict";a.r(t);a(36);var n=a(0),r=a.n(n),o=a(4),l=a.n(o),i=a(56),c=a(2),s=function(e){var t=e.location,a=c.default.getResourcesForPathnameSync(t.pathname);return a?r.a.createElement(i.a,Object.assign({location:t,pageResources:a},a.json)):null};s.propTypes={location:l.a.shape({pathname:l.a.string.isRequired}).isRequired},t.default=s},174:function(e,t,a){e.exports=a.p+"static/logo-07-0b1e5fced821161fe3bb120de1440797.svg"},175:function(e){e.exports={data:{site:{siteMetadata:{defaultTitle:"Philadelphia Dance Projects",titleTemplate:"%s · PDP",defaultDescription:"The mission of Philadelphia Dance Projects is to support contemporary dance through Projects that encourage artists and audiences to more fully participate and engage in the experience and pursuit of dance as an evolving form.",siteUrl:"https://philadanceprojects.org",defaultImage:"/photos/group-square.jpg"}}}}},176:function(e,t,a){"use strict";var n=a(7),r=a.n(n),o=a(0),l=a.n(o),i=(a(171),a(146),a(147),function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){return l.a.createElement("div",{id:"DonateButton"},l.a.createElement("form",{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_top"},l.a.createElement("input",{type:"hidden",name:"cmd",value:"_donations"}),l.a.createElement("input",{type:"hidden",name:"business",value:"isaacrwasserman@gmail.com"}),l.a.createElement("input",{type:"hidden",name:"currency_code",value:"USD"}),l.a.createElement("input",{id:"DonateButtonImage",type:"submit",value:"DONATE",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!"}),l.a.createElement("img",{alt:"",border:"0",src:"https://www.paypal.com/en_US/i/scr/pixel.gif",width:"1",height:"1"})))},t}(l.a.Component)),c=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){return l.a.createElement("div",{id:"Footer"},l.a.createElement("div",{id:"FooterBody"},l.a.createElement("h6",null,"© "+(new Date).getFullYear()+" Philadelphia Dance Projects"),l.a.createElement("div",{id:"ButtonContainer"},l.a.createElement(i,null),l.a.createElement("div",{id:"ContactButton"},"CONTACT"))))},t}(l.a.Component);t.a=c},177:function(e,t,a){"use strict";var n=a(7),r=a.n(n),o=a(0),l=a.n(o),i=a(171),c=a(174),s=a.n(c),d=(a(144),a(180)),u=a.n(d),m=(a(145),a(175)),p=a(179),g=a(4),h=a.n(g),E=function(e){var t=e.title,a=e.description,n=e.image,r=e.pathname,o=e.article;return l.a.createElement(i.b,{query:v,render:function(e){var i=e.site.siteMetadata,c=i.defaultTitle,s=i.titleTemplate,d=i.defaultDescription,u=i.siteUrl,m=i.defaultImage,g={title:t||c,description:a||d,image:""+u+(n||m),url:""+u+(r||"/")};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.Helmet,{title:g.title,titleTemplate:s},l.a.createElement("meta",{name:"description",content:g.description}),l.a.createElement("meta",{name:"image",content:g.image}),g.url&&l.a.createElement("meta",{property:"og:url",content:g.url}),!o?null:l.a.createElement("meta",{property:"og:type",content:"article"}),g.title&&l.a.createElement("meta",{property:"og:title",content:g.title}),g.description&&l.a.createElement("meta",{property:"og:description",content:g.description}),g.image&&l.a.createElement("meta",{property:"og:image",content:g.image})))},data:m})},f=E,v="2395431821";E.propTypes={title:h.a.string,description:h.a.string,image:h.a.string,pathname:h.a.string,article:h.a.bool},E.defaultProps={title:null,description:null,image:null,pathname:null,article:!1};var b=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props.CurrentPage,t=function(t){return t==e?{borderBottomWidth:2,borderBottomStyle:"solid",borderBottomColor:"black !important"}:{}};return l.a.createElement("div",{id:"Header"},l.a.createElement(f,null),l.a.createElement("img",{src:s.a}),l.a.createElement("ul",{id:"Navigator"},l.a.createElement(i.a,{to:"/"},l.a.createElement("li",{style:t("Home")},"Home")),l.a.createElement(i.a,{to:"/projects"},l.a.createElement("li",{style:t("Projects")},"Projects")),l.a.createElement(i.a,{to:"/calendar"},l.a.createElement("li",{style:t("Calendar")},"Calendar")),l.a.createElement(i.a,{to:"/blog"},l.a.createElement("li",{style:t("Blog")},"Blog")),l.a.createElement(i.a,{to:"/contributors"},l.a.createElement("li",{style:t("Contributors")},"Contributors")),l.a.createElement(i.a,{to:"/about"},l.a.createElement("li",{style:t("About")},"About")),l.a.createElement(i.a,{to:"/contact"},l.a.createElement("li",{style:t("Contact")},"Contact"))),l.a.createElement(u.a,{id:"MobileNavigator"},l.a.createElement(u.a.Toggle,{id:"MobileNavigatorToggle"},e),l.a.createElement(u.a.Menu,null,l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"Home"))),l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/projects"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"Projects"))),l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/calendar"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"Calendar"))),l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/blog"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"Blog"))),l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/contributors"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"Contributors"))),l.a.createElement(u.a.Item,null,l.a.createElement(i.a,{to:"/about"},l.a.createElement("div",{className:"MobileNavigatorInnerItem"},"About"))))))},t}(l.a.Component);t.a=b}}]);
//# sourceMappingURL=component---src-pages-blog-js-353f6c46914fb90e2c48.js.map